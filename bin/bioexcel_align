#!/usr/bin/env python

"""
This script performs the Alignment step of the Cancer
Genome Variant pipeline, controlling the processes for 
each step.
"""

import glob
import datetime
import os
import sys
import argparse
import runbwa as rb
import rungatk as rg

if __name__ == "__main__":

    description = ("This script performs the Alignment step of the Cancer "
                        "Genome Variant pipeline.")

    args = sqcu.parse_command_line(description)

    args = make_paths(args)
    args.files = get_files(args)
    args.threads = get_threads(args)

    ### Run FastQC
    prm = rm.run_main(args)
    prm.wait()

    prg = rg.run_gatk(args)
    prg.wait()
    ### Check FastQC output, simple yes/no to quality trimming
    ### Output and resubmission of jobs handled by checkFastQC
    prq = rq.run_qc(args)
    prq.wait()